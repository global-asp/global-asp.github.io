<!DOCTYPE html>
<head>
<meta charset="utf-8">
  <title>مگوزوے - Global African Storybook</title>
  <style type="text/css">code{white-space: pre;}</style>
<style>
  html { background-color: black; }
  body { background-color: white; border-radius: 12px}
  /* A section is a slide. It's size is 800x600, and this will never change */
  section {
      font-family: Arial, serif;
      font-size: 14pt;
      text-align: center;
    }
  address, blockquote, dl, fieldset, form, h1, h2, h3, h4, h5, h6, hr, ol, p, pre, table, ul, dl { padding: 10px 20px 10px 20px; }
  h1, h2, h3 {
    text-align: center;
    margin: 10pt 10pt 20pt 10pt;
  }
  ul, ol {
    margin: 10px 10px 10px 50px;
  }
  img {
    width: 40%;
  }
  .license {
    font-size: small;
  }
  .license img {
    width: auto;
  }
  section.titleslide h1 { margin-top: 200px; }
  h1.title { margin-top: 150px; }
  h1 { font-size: 180%; }
  h2 { font-size: 120%; }
  h3 { font-size: 100%; }
  q { quotes: "“" "”" "‘" "’"; }
  blockquote { font-style: italic }
  /* Figures are displayed full-page, with the caption on
     top of the image/video */
  figure {
    background-color: black;
  }
  figcaption {
    margin: 70px;
  }
  footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    padding: 40px;
    text-align: right;
    background-color: #F3F4F8;
    border-top: 1px solid #CCC;
  }

  /* Transition effect */
  /* Feel free to change the transition effect for original
     animations. See here:
     https://developer.mozilla.org/en/CSS/CSS_transitions
     How to use CSS3 Transitions: */
  section {
      -moz-transition: left 400ms linear 0s;
      -webkit-transition: left 400ms linear 0s;
      -ms-transition: left 400ms linear 0s;
      transition: left 400ms linear 0s;
  }

  /* Before */
  section { left: -150%; }
  /* Now */
  section[aria-selected] { left: 0; }
  /* After */
  section[aria-selected] ~ section { left: +150%; }

  /* Incremental elements */

  /* By default, visible */
  .incremental > * { opacity: 1; }

  /* The current item */
  .incremental > *[aria-selected] { color: red; opacity: 1; }

  /* The items to-be-selected */
  .incremental > *[aria-selected] ~ * { opacity: 0.2; }
</style>
</head>
<body>

<section id="مگوزوے" class="slide level1">
<h1>مگوزوے</h1>
<center>
<img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/01.jpg" />
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/02.jpg" /></p>
<p>نیروبی کے مصروف شہر میں گھر کی دیکھ بھال سے بہت دور ایسے لڑکوں کی ایک ٹولی رہتی تھی جن کے پاس گھر نہیں تھا۔ وہ ہر آنے والے دن کو ایسے ہی گزار دیتے جیسے وہ گزرتا۔ ایک صبح ٹھنڈی سڑک پر سو کر اُٹھنے کے بعد لڑکے اپنے بستر لپیٹ رہے تھے۔ سردی کو بھگانے کے لیے، اُنہوں نے کوڑے کی مدد سے آگ جلائی ہوئی تھی۔ لڑکوں کی ٹولی میں سے سب سے چھوٹا مگوزوے تھا۔</p>
<center>
<strong>1</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/03.jpg" /></p>
<p>جب مگوزوے کے والدین نے وفات پائی تو وہ صرف پانچ سال کا تھا۔ وہ اپنے چچا کے ساتھ رہنے کے لیے چلا گیا۔ اُس آدمی نے کبھی بچے کا خیال نہ رکھا۔ وہ مگوزوے کو کبھی پیٹ بھر کھانا نہ دیتا۔ اُس نے بچے سے بہت محنت کروائی۔</p>
<center>
<strong>2</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/04.jpg" /></p>
<p>اگر مگوزوے شکایت کرتا یا سوال اُٹھاتا تو اُس کے چچا اُس کو مارتے۔ جب مگوزوے نے سکول جانے کے لیے پوچھا تو اُس کے چچا نے اُسے مارا اور کہا تم سیکھنے کے قابل نہیں ہو۔ تین سال یہ سب سہنے کے بعد مگوزوے اپنے چچا کے گھر سے بھاگ گیا۔ اُس نے گلی پر رہنا شروع کر دیا۔</p>
<center>
<strong>3</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/05.jpg" /></p>
<p>گلیوں کی زندگی بہت مشکل تھی۔ اور بہت سے لڑکے روزانہ کھانے کے بندوبست کے لیے بہت جدو جہد کرتے۔ کئی مرتبہ وہ گرفتار ہو جاتے، کئی دفعہ اُنہیں مارا پیٹا جاتا۔ جب وہ بیمار پڑتے تو کوئی اُن کی مدد کے لیے نہ آتا۔ لڑکوں کی ٹولی کا گزارا صرف بھیک میں مانگے ہوئے پیسے اور کوڑا کرکٹ میں پڑے پلاسٹک کو بیچنے سے ہوتا۔ زندگی اور بد ترین ہو جاتی جب اُنہیں وہاں رہنے کے لیے وہاں کے باشندوں سے لڑنا پڑتا جو کہ شہر کے باقی حصوں پر بھی حکومت کرنا چاہتے تھے۔</p>
<center>
<strong>4</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/06.jpg" /></p>
<p>ایک دن مگوزوے کوڑے کی ٹوکریاں چھان رہا تھا تو اُسے پھٹی پرانی ایک کہانی کی کتاب ملی۔ اُس نے کتاب سے دُھول جھاڑی اور اُسے اپنے تھیلے میں ڈال لیا۔ ہر روز اُس کے بعد وہ کتاب نکالتا اور اُس پر بنی تصویریں دیکھتا۔ وہ نہیں جانتا تھا کہ الفاظ کو کیسے پڑھنا ہے۔</p>
<center>
<strong>5</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/07.jpg" /></p>
<p>تصاویر ایک ایسے لڑکے کی کہانی پیش کرتیں جو بڑا ہو کر کپتان بننا چاہتا تھا۔ مگوزوے صرف اس کے خواب دیکھ سکتا تھا۔ کچھ وقت کے لیے وہ یہ خیال کر لیتا کہ کہانی میں موجود لڑکا وہ خود ہے۔</p>
<center>
<strong>6</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/08.jpg" /></p>
<p>بہت ٹھنڈ تھی اور مگوزوے سڑک پر کھڑا بھیک مانگ رہا تھا۔ ایک آدمی چلتے ہوئے اُس کے پاس آیا۔ ہیلو، میرا نام تھامس ہے۔ میں یہاں نزدیک ہی کام کرتا ہوں۔ ایسی جگہ جہاں تمہیں کھانے پینے کے لیے کچھ آسانی سے مل سکتا ہے آدمی نے کہا۔ اُس نے ایک پیلے گھر کی طرف اشارہ کیا جس کی چھت نیلی تھی۔ میں اُمید کرتا ہوں کہ تم وہاں کچھ کھانا لینے جاو گے؟ اُس نے پوچھا۔ مگوزوے نے آدمی کی طرف دیکھا اور پھر اُس گھر کی طرف دیکھا۔ شاید! اُس نے کہا، اور چلا گیا۔</p>
<center>
<strong>7</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/09.jpg" /></p>
<p>کچھ مہینوں بعد، گھر کے بغیر لڑکوں نے روز تھامس کو اپنے اردگرد دیکھنا شروع کیا اُسے لوگوں سے بات کرنا پسند تھا۔ خاص طور پر اُن لوگوں سے جو گلیوں میں رہتے۔ تھامس اُن سے اُن کی زندگی کی کہانیاں سُنتا۔ وہ بہت سنجیدہ اورصبر میں رہتا اور کبھی اُن سے تلخ کلامی اور بدتمیزی نہ کرتا۔ کچھ لڑکے اُس پیلے اور نیلے گھر میں دوپہر کو کھانا لینے جاتے۔</p>
<center>
<strong>8</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/10.jpg" /></p>
<p>مگوزوے سڑک پر بیٹھا کتاب میں اپنی تصویر دیکھ رہا تھا۔ جب تھامس آکر اُس کے پاس بیٹھا۔ یہ کہانی کس بارے میں ہے؟ تھامس نے پوچھا۔ یہ ایسے لڑکے کے بارے میں ہے جو کہ کپتان بنا مگوزوے نے جواب دیا۔ اُس لڑکے کا کیا نام ہے؟ تھامس نے اُس سے پوچھا۔ میں نہیں جانتا، میں پڑھ نہیں سکتا مگوزوے نے چپکے سے جواب دیا۔</p>
<center>
<strong>9</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/11.jpg" /></p>
<p>جب وہ ملے، مگوزوے تھامس کو اپنی کہانی بتانے لگا۔ یہ اُس کے چچا کی کہانی تھی کہ وہ وہاں سے کیوں بھاگا۔ تھامس زیا دہ بات نہیں کرتا تھا نہ ہی اُس نے مگوزوے کو بتایا کہ اُسے کیا کرنا چاہیے۔ لیکن وہ اُسے ہمیشہ غور سے سنتا۔ کچھ دیر وہ لوگ چلتے جبکہ وہ نیلی چھت والے گھرمیں کھانا کھاتے۔</p>
<center>
<strong>10</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/12.jpg" /></p>
<p>مگوزوے کی دسویں سالگرہ پر تھامس نے اُس کو ایک نئی کہانی کی کتاب تحفے میں دی۔ یہ کہانی ایک گاؤں کے لڑکے کے بارے میں تھی۔ جو کہ بڑا ہو کر ایک مشہور فٹبالر بننا چاہتا تھا۔ تھامس نے مگوزوے کو وہ کہانی کئی بار پڑھ کر سُنائی۔ حتیٰ کہ ایک دن اُس نے کہا میرے خیال سے تمہیں سکول جانا چاہیے اور پڑھنا لکھنا سیکھنا چاہیے۔ تمہارا کیا خیال ہے؟ تھامس نے اُسے تفصیل سے بتایا کہ وہ ایک جگہ کے بارے میں جانتا ہے جہاں بچے رہ سکتے ہیں اور سکول جا سکتے ہیں۔</p>
<center>
<strong>11</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/13.jpg" /></p>
<p>مگوزوے نے اُس نئی جگہ اور سکول جانے کے بارے میں سوچا، کیا ہو اگر اُس کے چچا کی کہی بات ٹھیک نکلی اور وہ واقعی پڑھ لکھ نہ سکا؟ کیا ہوگا اگر اُس نئی جگہ پر اُسے مار پڑی؟ وہ خوف ذدہ تھا کہ شاید گلی میں رہنا ہی بہتر ہے اُس نے سوچا۔</p>
<center>
<strong>12</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/14.jpg" /></p>
<p>اُس نے اپنے ڈر تھامس سے بانٹے۔ تھامس نے اُسے بار ہا یقین دلایا کہ تمہیں زندگی نئی جگہ پر بہت اچھی ہوگی۔</p>
<center>
<strong>13</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/15.jpg" /></p>
<p>اور اس طرح مگوزوے ایک نئے کمرے میں داخل ہوا جس کی چھت سبز تھی۔ وہاں اُس نے دو اور لڑکوں کے ساتھ کمرہ بانٹا۔ اُس گھر میں کل دس بچے رہتے تھے۔ آنٹی سیسی اور اُن کے خاوند، تین کتے، ایک بلی اور ایک بوڑھی بکری کے سمیت۔</p>
<center>
<strong>14</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/16.jpg" /></p>
<p>مگوزوے نے سکول جانا شروع کیا جو کہ مشکل تھا۔ اُسے بہت کچھ سیکھنا تھا کبھی کبھار وہ سب چھوڑ دینا چاہتا تھا۔ لیکن اُس نے اُس فٹبالر اور کپتان کے بارے میں سوچا جو کہ کہانیوں میں موجود تھے۔ اُن کی طرح اُسے ہار نہیں ماننی تھی۔</p>
<center>
<strong>15</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/17.jpg" /></p>
<p>مگوزوے سبز چھت والے گھر کے باغیچے میں بیٹھا ایک کہانی کی کتاب پڑھ رہا تھا جو کہ اُسے سکول کی طرف سے ملی تھی۔ تھامس اُس کے پاس آکر بیٹھا۔ کہانی کس بارے میں ہے؟ تھامس نے پوچھا؟ یہ ایک ایسے لڑکے کے بارے میں ہے جو اُستاد بننا چاہتا تھا۔ مگوزوے نے جواب دیا۔ اُس لڑکے کا نام کیا ہے؟ تھامس نے پوچھا؟ اُس کا نام مگوزوے ہے، اُس نے مسکراتے ہوئے کہا۔</p>
<center>
<strong>16</strong>
</center>

</section>
<section class="slide level1">

<h2 id="مگوزوے-1">مگوزوے</h2>
<strong>Text:</strong> Lesley Koyi<br> <strong>Illustrations:</strong> Wiehan de Jager<br> <strong>Translation:</strong> Samrina Sana<br> <strong>Language:</strong> Urdu<br>
<p>
This story is brought to you by the <a href='https://global-asp.github.io/'>Global African Storybook Project</a>, an effort to translate the stories of the <a href='http://africanstorybook.org/'>African Storybook Project</a> into all the languages of the world.
<p>
You can view the original story on the ASP website <a href='http://africanstorybook.org/stories/magozwe-0'>here</a>
<p><div class="license">
<a href="https://global-asp.github.io"><img src="https://global-asp.github.io/logo.png" alt="Global ASP logo" border="0" /></a>
</div>

<p><center><div class="license">
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.
</div></center>


</section>


<!-- {{{{ dzslides core
#
#
#     __  __  __       .  __   ___  __
#    |  \  / /__` |    | |  \ |__  /__`
#    |__/ /_ .__/ |___ | |__/ |___ .__/ core :€
#
#
# The following block of code is not supposed to be edited.
# But if you want to change the behavior of these slides,
# feel free to hack it!
#
-->

<div id="progress-bar"></div>

<!-- Default Style -->
<style>
  * { margin: 0; padding: 0; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
  details { display: none; }
  body {
    width: 800px; height: 600px;
    margin-left: -400px; margin-top: -300px;
    position: absolute; top: 50%; left: 50%;
    overflow: hidden;
  }
  section {
    position: absolute;
    pointer-events: none;
    width: 100%; height: 100%;
  }
  section[aria-selected] { pointer-events: auto; }
  html { overflow: hidden; }
  body { display: none; }
  body.loaded { display: block; }
  .incremental {visibility: hidden; }
  .incremental[active] {visibility: visible; }
  #progress-bar{
    bottom: 0;
    position: absolute;
    -moz-transition: width 400ms linear 0s;
    -webkit-transition: width 400ms linear 0s;
    -ms-transition: width 400ms linear 0s;
    transition: width 400ms linear 0s;
  }
  figure {
    width: 100%;
    height: 100%;
  }
  figure > * {
    position: absolute;
  }
  figure > img, figure > video {
    width: 100%; height: 100%;
  }
</style>

<script>
  var Dz = {
    remoteWindows: [],
    idx: -1,
    step: 0,
    slides: null,
    progressBar : null,
    params: {
      autoplay: "1"
    }
  };

  Dz.init = function() {
    document.body.className = "loaded";
    this.slides = $$("body > section");
    this.progressBar = $("#progress-bar");
    this.setupParams();
    this.onhashchange();
    this.setupTouchEvents();
    this.onresize();
  }
  
  Dz.setupParams = function() {
    var p = window.location.search.substr(1).split('&');
    p.forEach(function(e, i, a) {
      var keyVal = e.split('=');
      Dz.params[keyVal[0]] = decodeURIComponent(keyVal[1]);
    });
  // Specific params handling
    if (!+this.params.autoplay)
      $$.forEach($$("video"), function(v){ v.controls = true });
  }

  Dz.onkeydown = function(aEvent) {
    // Don't intercept keyboard shortcuts
    if (aEvent.altKey
      || aEvent.ctrlKey
      || aEvent.metaKey
      || aEvent.shiftKey) {
      return;
    }
    if ( aEvent.keyCode == 37 // left arrow
      || aEvent.keyCode == 38 // up arrow
      || aEvent.keyCode == 33 // page up
    ) {
      aEvent.preventDefault();
      this.back();
    }
    if ( aEvent.keyCode == 39 // right arrow
      || aEvent.keyCode == 40 // down arrow
      || aEvent.keyCode == 34 // page down
    ) {
      aEvent.preventDefault();
      this.forward();
    }
    if (aEvent.keyCode == 35) { // end
      aEvent.preventDefault();
      this.goEnd();
    }
    if (aEvent.keyCode == 36) { // home
      aEvent.preventDefault();
      this.goStart();
    }
    if (aEvent.keyCode == 32) { // space
      aEvent.preventDefault();
      this.toggleContent();
    }
    if (aEvent.keyCode == 70) { // f
      aEvent.preventDefault();
      this.goFullscreen();
    }
  }

  /* Touch Events */

  Dz.setupTouchEvents = function() {
    var orgX, newX;
    var tracking = false;

    var db = document.body;
    db.addEventListener("touchstart", start.bind(this), false);
    db.addEventListener("touchmove", move.bind(this), false);

    function start(aEvent) {
      aEvent.preventDefault();
      tracking = true;
      orgX = aEvent.changedTouches[0].pageX;
    }

    function move(aEvent) {
      if (!tracking) return;
      newX = aEvent.changedTouches[0].pageX;
      if (orgX - newX > 100) {
        tracking = false;
        this.forward();
      } else {
        if (orgX - newX < -100) {
          tracking = false;
          this.back();
        }
      }
    }
  }

  /* Adapt the size of the slides to the window */

  Dz.onresize = function() {
    var db = document.body;
    var sx = db.clientWidth / window.innerWidth;
    var sy = db.clientHeight / window.innerHeight;
    var transform = "scale(" + (1/Math.max(sx, sy)) + ")";

    db.style.MozTransform = transform;
    db.style.WebkitTransform = transform;
    db.style.OTransform = transform;
    db.style.msTransform = transform;
    db.style.transform = transform;
  }


  Dz.getDetails = function(aIdx) {
    var s = $("section:nth-of-type(" + aIdx + ")");
    var d = s.$("details");
    return d ? d.innerHTML : "";
  }

  Dz.onmessage = function(aEvent) {
    var argv = aEvent.data.split(" "), argc = argv.length;
    argv.forEach(function(e, i, a) { a[i] = decodeURIComponent(e) });
    var win = aEvent.source;
    if (argv[0] === "REGISTER" && argc === 1) {
      this.remoteWindows.push(win);
      this.postMsg(win, "REGISTERED", document.title, this.slides.length);
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
      return;
    }
    if (argv[0] === "BACK" && argc === 1)
      this.back();
    if (argv[0] === "FORWARD" && argc === 1)
      this.forward();
    if (argv[0] === "START" && argc === 1)
      this.goStart();
    if (argv[0] === "END" && argc === 1)
      this.goEnd();
    if (argv[0] === "TOGGLE_CONTENT" && argc === 1)
      this.toggleContent();
    if (argv[0] === "SET_CURSOR" && argc === 2)
      window.location.hash = "#" + argv[1];
    if (argv[0] === "GET_CURSOR" && argc === 1)
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
    if (argv[0] === "GET_NOTES" && argc === 1)
      this.postMsg(win, "NOTES", this.getDetails(this.idx));
  }

  Dz.toggleContent = function() {
    // If a Video is present in this new slide, play it.
    // If a Video is present in the previous slide, stop it.
    var s = $("section[aria-selected]");
    if (s) {
      var video = s.$("video");
      if (video) {
        if (video.ended || video.paused) {
          video.play();
        } else {
          video.pause();
        }
      }
    }
  }

  Dz.setCursor = function(aIdx, aStep) {
    // If the user change the slide number in the URL bar, jump
    // to this slide.
    aStep = (aStep != 0 && typeof aStep !== "undefined") ? "." + aStep : ".0";
    window.location.hash = "#" + aIdx + aStep;
  }

  Dz.onhashchange = function() {
    var cursor = window.location.hash.split("#"),
        newidx = 1,
        newstep = 0;
    if (cursor.length == 2) {
      newidx = ~~cursor[1].split(".")[0];
      newstep = ~~cursor[1].split(".")[1];
      if (newstep > Dz.slides[newidx - 1].$$('.incremental > *').length) {
        newstep = 0;
        newidx++;
      }
    }
    this.setProgress(newidx, newstep);
    if (newidx != this.idx) {
      this.setSlide(newidx);
    }
    if (newstep != this.step) {
      this.setIncremental(newstep);
    }
    for (var i = 0; i < this.remoteWindows.length; i++) {
      this.postMsg(this.remoteWindows[i], "CURSOR", this.idx + "." + this.step);
    }
  }

  Dz.back = function() {
    if (this.idx == 1 && this.step == 0) {
      return;
    }
    if (this.step == 0) {
      this.setCursor(this.idx - 1,
                     this.slides[this.idx - 2].$$('.incremental > *').length);
    } else {
      this.setCursor(this.idx, this.step - 1);
    }
  }

  Dz.forward = function() {
    if (this.idx >= this.slides.length &&
        this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
        return;
    }
    if (this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
      this.setCursor(this.idx + 1, 0);
    } else {
      this.setCursor(this.idx, this.step + 1);
    }
  }

  Dz.goStart = function() {
    this.setCursor(1, 0);
  }

  Dz.goEnd = function() {
    var lastIdx = this.slides.length;
    var lastStep = this.slides[lastIdx - 1].$$('.incremental > *').length;
    this.setCursor(lastIdx, lastStep);
  }

  Dz.setSlide = function(aIdx) {
    this.idx = aIdx;
    var old = $("section[aria-selected]");
    var next = $("section:nth-of-type("+ this.idx +")");
    if (old) {
      old.removeAttribute("aria-selected");
      var video = old.$("video");
      if (video) {
        video.pause();
      }
    }
    if (next) {
      next.setAttribute("aria-selected", "true");
      var video = next.$("video");
      if (video && !!+this.params.autoplay) {
        video.play();
      }
    } else {
      // That should not happen
      this.idx = -1;
      // console.warn("Slide doesn't exist.");
    }
  }

  Dz.setIncremental = function(aStep) {
    this.step = aStep;
    var old = this.slides[this.idx - 1].$('.incremental > *[aria-selected]');
    if (old) {
      old.removeAttribute('aria-selected');
    }
    var incrementals = $$('.incremental');
    if (this.step <= 0) {
      $$.forEach(incrementals, function(aNode) {
        aNode.removeAttribute('active');
      });
      return;
    }
    var next = this.slides[this.idx - 1].$$('.incremental > *')[this.step - 1];
    if (next) {
      next.setAttribute('aria-selected', true);
      next.parentNode.setAttribute('active', true);
      var found = false;
      $$.forEach(incrementals, function(aNode) {
        if (aNode != next.parentNode)
          if (found)
            aNode.removeAttribute('active');
          else
            aNode.setAttribute('active', true);
        else
          found = true;
      });
    } else {
      setCursor(this.idx, 0);
    }
    return next;
  }

  Dz.goFullscreen = function() {
    var html = $('html'),
        requestFullscreen = html.requestFullscreen || html.requestFullScreen || html.mozRequestFullScreen || html.webkitRequestFullScreen;
    if (requestFullscreen) {
      requestFullscreen.apply(html);
    }
  }
  
  Dz.setProgress = function(aIdx, aStep) {
    var slide = $("section:nth-of-type("+ aIdx +")");
    if (!slide)
      return;
    var steps = slide.$$('.incremental > *').length + 1,
        slideSize = 100 / (this.slides.length - 1),
        stepSize = slideSize / steps;
    this.progressBar.style.width = ((aIdx - 1) * slideSize + aStep * stepSize) + '%';
  }
  
  Dz.postMsg = function(aWin, aMsg) { // [arg0, [arg1...]]
    aMsg = [aMsg];
    for (var i = 2; i < arguments.length; i++)
      aMsg.push(encodeURIComponent(arguments[i]));
    aWin.postMessage(aMsg.join(" "), "*");
  }
  
  function init() {
    Dz.init();
    window.onkeydown = Dz.onkeydown.bind(Dz);
    window.onresize = Dz.onresize.bind(Dz);
    window.onhashchange = Dz.onhashchange.bind(Dz);
    window.onmessage = Dz.onmessage.bind(Dz);
  }

  window.onload = init;
</script>


<script> // Helpers
  if (!Function.prototype.bind) {
    Function.prototype.bind = function (oThis) {

      // closest thing possible to the ECMAScript 5 internal IsCallable
      // function 
      if (typeof this !== "function")
      throw new TypeError(
        "Function.prototype.bind - what is trying to be fBound is not callable"
      );

      var aArgs = Array.prototype.slice.call(arguments, 1),
          fToBind = this,
          fNOP = function () {},
          fBound = function () {
            return fToBind.apply( this instanceof fNOP ? this : oThis || window,
                   aArgs.concat(Array.prototype.slice.call(arguments)));
          };

      fNOP.prototype = this.prototype;
      fBound.prototype = new fNOP();

      return fBound;
    };
  }

  var $ = (HTMLElement.prototype.$ = function(aQuery) {
    return this.querySelector(aQuery);
  }).bind(document);

  var $$ = (HTMLElement.prototype.$$ = function(aQuery) {
    return this.querySelectorAll(aQuery);
  }).bind(document);

  $$.forEach = function(nodeList, fun) {
    Array.prototype.forEach.call(nodeList, fun);
  }

</script>
<!-- vim: set fdm=marker: }}} -->
</body>
</html>
