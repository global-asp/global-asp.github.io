<!DOCTYPE html>
<head>
<meta charset="utf-8">
  <title>سمبیگورے - Global African Storybook</title>
  <style type="text/css">code{white-space: pre;}</style>
<style>
  html { background-color: black; }
  body { background-color: white; border-radius: 12px}
  /* A section is a slide. It's size is 800x600, and this will never change */
  section {
      font-family: Arial, serif;
      font-size: 14pt;
      text-align: center;
    }
  address, blockquote, dl, fieldset, form, h1, h2, h3, h4, h5, h6, hr, ol, p, pre, table, ul, dl { padding: 10px 20px 10px 20px; }
  h1, h2, h3 {
    text-align: center;
    margin: 10pt 10pt 20pt 10pt;
  }
  ul, ol {
    margin: 10px 10px 10px 50px;
  }
  img {
    width: 40%;
  }
  .license {
    font-size: small;
  }
  .license img {
    width: auto;
  }
  section.titleslide h1 { margin-top: 200px; }
  h1.title { margin-top: 150px; }
  h1 { font-size: 180%; }
  h2 { font-size: 120%; }
  h3 { font-size: 100%; }
  q { quotes: "“" "”" "‘" "’"; }
  blockquote { font-style: italic }
  /* Figures are displayed full-page, with the caption on
     top of the image/video */
  figure {
    background-color: black;
  }
  figcaption {
    margin: 70px;
  }
  footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    padding: 40px;
    text-align: right;
    background-color: #F3F4F8;
    border-top: 1px solid #CCC;
  }

  /* Transition effect */
  /* Feel free to change the transition effect for original
     animations. See here:
     https://developer.mozilla.org/en/CSS/CSS_transitions
     How to use CSS3 Transitions: */
  section {
      -moz-transition: left 400ms linear 0s;
      -webkit-transition: left 400ms linear 0s;
      -ms-transition: left 400ms linear 0s;
      transition: left 400ms linear 0s;
  }

  /* Before */
  section { left: -150%; }
  /* Now */
  section[aria-selected] { left: 0; }
  /* After */
  section[aria-selected] ~ section { left: +150%; }

  /* Incremental elements */

  /* By default, visible */
  .incremental > * { opacity: 1; }

  /* The current item */
  .incremental > *[aria-selected] { color: red; opacity: 1; }

  /* The items to-be-selected */
  .incremental > *[aria-selected] ~ * { opacity: 0.2; }
</style>
</head>
<body>

<section id="سمبیگورے" class="slide level1">
<h1>سمبیگورے</h1>
<center>
<img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/01.jpg" />
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/02.jpg" /></p>
<p>جب سمبیگورے کی ماں مر گئی تو وہ بہت اداس تھی۔ سمبیگورے کے والد نے اپنی بیٹی کی دیکھ بھال کرنے کے لئے اپنی پوری کوشش کی۔ آہستہ آہستہ، انہوں نے سمبیگورے کی ماں کے بغیر، دوبارہ خوشی محسوس کرنے کی کو شش کی۔ ہر روز انہوں نے بیٹھ کر دن کے بارے میں بات کی۔ ہر شام انہوں نے ایک ساتھ رات کا کھانا بنایا۔ انہوں نے برتن دھونے کے بعد، سمبیگورے کے والد نے اسے گھر کے کام میں اُس کی مدد کی۔</p>
<center>
<strong>1</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/03.jpg" /></p>
<p>ایک دن، سمبیگورے کے والد معمول سے ہٹ کر گھر آ گئے۔ اُنہوں نے کہا کہ 'میرے بچے تم کہاں ہو؟' سمبیگورے اپنے باپ کی طرف بھاگی۔ وہ اپنے باپ کا ہاتھ کسی عورت کے ہاتھ میں دیکھ کر رک گئی۔ میرے بچے میں تمہیں۔ کسی خاص انسان سے ملوانا چاہتا ہوں۔ یہ انیتا ہیں اُنہوں نے مسکراتے ہوئے کہا۔</p>
<center>
<strong>2</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/04.jpg" /></p>
<p>انیتا نے کہا 'ہیلو سمبیگورے، آپ کے والد نے مجھے آپ کے بارے میں بہت کچھ بتایا'۔ اُس نے لڑکی سے ہاتھ ملاتے ہوئے خوشی محسو س نہیں کی۔ سمبیگورے کے والد خوش تھے۔ انہوں نے ان تینوں کے بارے میں بات کی کہ وہ ایک دوسرے کے ساتھ رہیں گے، اور ان کی زندگی کتنی اچھی ہوگی۔ انہوں نے کہا، 'میرا بچہ، مجھے امید ہے کہ آپ انیتا کو آپنی ماں کے طور پر قبول کریں گی'۔</p>
<center>
<strong>3</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/05.jpg" /></p>
<p>سمبیگورے کی زندگی بدل گئی۔ اب اُسے اپنے والد کے ساتھ صبح بیٹھنے کا زیادہ وقت نہیں ملتا تھا۔ انیتا نے اسے بہت سے گھریلو کاموں میں لگا دیا تھا وہ اتنا تھک جاتی کہ شام میں اپنے سکول کا کام بھی نہ کر پاتی۔ وہ کھانا کھانے کے بعد سیدھا اپنے بستر کی طرف چلی جاتی۔ اُس کی زندگی میں سکون کی وجہ صرف اُس کی ماں کی طرف سے دیا گیا ایک خوبصورت کمبل تھا۔ سمبیگورے کے والد اس بات کا اندازہ نہ لگا سکے کہ اُن کی بیٹی نا خوش ہے۔</p>
<center>
<strong>4</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/06.jpg" /></p>
<p>چند ماہ کے بعد، سمبیگورے کے والد نے ان سے کہا کہ وہ تھوڑی دیر تک گھر سے دور رہیں گے۔ انہوں نے کہا کہ 'مجھے اپنے کام کے لیے سفر کرنا ہے۔' 'لیکن میں جانتا ہوں کہ آپ ایک دوسرے کی دیکھ بھال کریں گے۔' سمبیگورے کا چہرہ اُتر گیا، لیکن اس کے والد نے غور نہیں کیا۔ انیتا نے کچھ بھی نہیں کہاوہ بھی نا خوش تھی۔</p>
<center>
<strong>5</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/07.jpg" /></p>
<p>سمبیگورے کے لئے صورتحال اور خراب ہوگئ۔ اگر وہ اپنے کام وقت پر ختم نہ کرتی یا شکایت کرتی تو انیتا اُسے مارتی۔ اور کھانے کے وقت وہ خود زیا دہ کھاتی اور سمبیگورے کو بچے ہوئے چند ٹکڑے دیتی۔ ہر رات سمبیگورے سونے سے پہلے روتی اور چلاتی اور اپنی ما ں کے دیے ہوئے کمبل کو کس کے پکڑتی۔</p>
<center>
<strong>6</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/08.jpg" /></p>
<p>ایک صبح سمبیگورے دیر سے اُٹھی۔ ّسست لڑکیٗ! انیتا چلائی۔ اُس نے اُسے بستر سے دھکا دے کر نیچے گرایا۔ قیمتی کمبل کیل سے اٹک کر دو ٹکڑوں میں بٹ گیا۔</p>
<center>
<strong>7</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/09.jpg" /></p>
<p>سمبیگورے بہت پریشان تھی۔ اس نے گھر سے بھاگنے کا فیصلہ کیا۔ اس نے اپنی ماں کے کمبل کے ٹکڑوں کو لے لیا، کچھ کھانا پکڑا اور گھر چھوڑ دیا۔ اُس نے اپنے والد کی اختیار کی گئی سڑک پر چلنا شروع کر دیا۔</p>
<center>
<strong>8</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/10.jpg" /></p>
<p>جب شام ہوئی تو، وہ ایک ندی کے قریب لمبے درخت پر چڑھ کر شاخوں میں خود اپنا بستر بنا یا۔ اور گانا گاتے ہوئے سو گئی 'ماما، ماما، ماما، آپ نے مجھے چھوڑ دیا۔ تم نے مجھے چھوڑ دیا اور واپس کبھی نہیں آئی۔ والد اب مجھ سے محبت نہیں کرتے۔ ماں، آپ کب واپس آ رہی ہیں؟ آپ نے مجھے چھوڑ دیا۔'</p>
<center>
<strong>9</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/11.jpg" /></p>
<p>اگلی صبح، سمبیگورے نے گانا دوبارہ گانا شروع کر دیا۔ جب خواتین اپنے لباس ندی میں دھونے کے لئے آئیں۔ تو اُنہوں نے غمگین گانے کی آواز سُنی۔ جو کہ لمبے درخت سے آ رہی تھی۔ انہوں نے سوچا کہ یہ صرف ہو ا سے ہلتے ہوئے پتوں کی آواز ہے اور اپنا کام جاری رکھا۔ لیکن اُن میں ایک عورت نے غور سے اُس گانے کو سُنا۔</p>
<center>
<strong>10</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/12.jpg" /></p>
<p>اس عورت نے درخت میں دیکھا۔ جب اس نے لڑکی اور رنگا رنگ کمبل کے ٹکڑوں کو پکڑے دیکھا، اُس نے پکارا، 'میرے بھائی کی بچی!' باقی عورتوں کپڑے دھونا بند کیا اور سمبیگورے کو درخت سے سے نیچے اُتارنے میں مدد کی۔ اُس کی آنٹی نے اُسے گلے سے لگایا تاکہ وہ راحت محسوس کرے۔</p>
<center>
<strong>11</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/13.jpg" /></p>
<p>سمبیگورے کی آنٹی بچی کو اپنے گھر لے گئی۔ اس نے سمبیگورے کو گرم کھانا دیا۔ اور اس کی ماں کے کمبل کے ساتھ بستر میں سلا دیا۔ اس رات، سمبیگورے روئی اور سو گئی۔ لیکن وہ راحت کے آنسو تھے۔ وہ جانتی تھی کہ اس کی آنٹی اس کی دیکھ بھال کرے گی۔</p>
<center>
<strong>12</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/14.jpg" /></p>
<p>جب سمبیگورے کے والد گھر واپس آ گئے تو اسے اپنی بیٹئی کا کمرہ خالی ملا 'کیا ہوا، انیتا؟' اس نے بھاری دل سے پوچھا۔ عورت نے وضاحت کی کہ سمبیگورے بھاگ گئی ہے۔ انہوں نے کہا کہ 'میں چاہتا تھی کہ وہ میرا احترام کرے۔' 'لیکن شاید میں بہت سخت تھی۔' سمبیگورے کے باپ نے گھر چھوڑ دیا اور ندی کی سمت میں چلا گیا۔ وہ اپنی بہن کے گاؤں کی طرف چلتے گئے کہ شائید کسی نے سمبیگورے کو دیکھا ہو۔</p>
<center>
<strong>13</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/15.jpg" /></p>
<p>جب اس کے والد نے دور سے دیکھا تو سمبیگورے اپنے کزن کے ساتھ کھیل رہی تھی۔ وہ خوفزدہ تھی کہ والد ناراض ہوسکتے ہیں، لہذا وہ گھر کے اندر چھپنے کے لیے بھاگ گئی۔ لیکن اس کے والد اس کے پاس گئے اور کہا، 'سمبیگورے، آپ نے اپنے لیے ایک بہترین ماں پائی ہے۔ جو آپ سے پیار کرتی ہے اور آپ کو سمجھتی ہے۔ مجھے تم پر فخر ہے اور میں تم سے پیار کرتا ہوں۔ 'انہوں نے اس بات سے اتفاق کیا کہ جب تک وہ چاہتی ہے اپنی آنٹی کے ساتھ رہ سکتی ہے۔</p>
<center>
<strong>14</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/16.jpg" /></p>
<p>اس کے والد نے ہر روز وہاں دورہ کیا۔ بالآخر وہ انیتا کے ساتھ آئے۔ وہ سمبیگورے کی طرف بھاگی۔ انہوں نے کہا۔ 'مجھے بہت افسوس ہے، میں غلط تھی۔' 'کیا آپ مجھے دوبارہ کوشش کرنے دیں گی؟' سمبیگورے نے اپنے والد اور ان کے پریشان کن چہرے کو دیکھا۔ پھر اس نے آہستہ آہستہ قدم بڑھایا اور انیتا کو گلے سے لگا لیا۔</p>
<center>
<strong>15</strong>
</center>

</section>
<section class="slide level1">

<p><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/17.jpg" /></p>
<p>اگلے ہفتے انیتا نے سمبیگورے اور اس کے کزن کو اوراس کی آنٹی کو اُن کے ساتھ کھانا کھانے کے لئے مدعو کیا۔ کیا دعوت ہے! انیتا نے سمبیگورے کے پسندیدہ کھانے تیار کیے، اور ہر ایک نے خوب کھایا جب تک اُن کا پیٹ نہ بھرا گیا ہو پھر بچوں نے کھیلا جبکہ بالغوں نے بات کی۔ سمبیگورے نے خوش اور بہادر محسوس کیا۔ اس نے جلد ہی فیصلہ کیا،کہ وہ جلد ہی گھر واپس آئے گی اور اپنے باپ اور سوتیلی ماں کے ساتھ رہے گی۔</p>
<center>
<strong>16</strong>
</center>

</section>
<section class="slide level1">

<h2 id="سمبیگورے-1">سمبیگورے</h2>
<strong>Text:</strong> Rukia Nantale<br> <strong>Illustrations:</strong> Benjamin Mitchley<br> <strong>Translation:</strong> Samrina Sana<br> <strong>Language:</strong> Urdu<br>
<p>
This story is brought to you by the <a href='https://global-asp.github.io/'>Global African Storybook Project</a>, an effort to translate the stories of the <a href='http://africanstorybook.org/'>African Storybook Project</a> into all the languages of the world.
<p>
You can view the original story on the ASP website <a href='http://africanstorybook.org/stories/simbegwire'>here</a>
<p><div class="license">
<a href="https://global-asp.github.io"><img src="https://global-asp.github.io/logo.png" alt="Global ASP logo" border="0" /></a>
</div>

<p><center><div class="license">
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.
</div></center>


</section>


<!-- {{{{ dzslides core
#
#
#     __  __  __       .  __   ___  __
#    |  \  / /__` |    | |  \ |__  /__`
#    |__/ /_ .__/ |___ | |__/ |___ .__/ core :€
#
#
# The following block of code is not supposed to be edited.
# But if you want to change the behavior of these slides,
# feel free to hack it!
#
-->

<div id="progress-bar"></div>

<!-- Default Style -->
<style>
  * { margin: 0; padding: 0; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
  details { display: none; }
  body {
    width: 800px; height: 600px;
    margin-left: -400px; margin-top: -300px;
    position: absolute; top: 50%; left: 50%;
    overflow: hidden;
  }
  section {
    position: absolute;
    pointer-events: none;
    width: 100%; height: 100%;
  }
  section[aria-selected] { pointer-events: auto; }
  html { overflow: hidden; }
  body { display: none; }
  body.loaded { display: block; }
  .incremental {visibility: hidden; }
  .incremental[active] {visibility: visible; }
  #progress-bar{
    bottom: 0;
    position: absolute;
    -moz-transition: width 400ms linear 0s;
    -webkit-transition: width 400ms linear 0s;
    -ms-transition: width 400ms linear 0s;
    transition: width 400ms linear 0s;
  }
  figure {
    width: 100%;
    height: 100%;
  }
  figure > * {
    position: absolute;
  }
  figure > img, figure > video {
    width: 100%; height: 100%;
  }
</style>

<script>
  var Dz = {
    remoteWindows: [],
    idx: -1,
    step: 0,
    slides: null,
    progressBar : null,
    params: {
      autoplay: "1"
    }
  };

  Dz.init = function() {
    document.body.className = "loaded";
    this.slides = $$("body > section");
    this.progressBar = $("#progress-bar");
    this.setupParams();
    this.onhashchange();
    this.setupTouchEvents();
    this.onresize();
  }
  
  Dz.setupParams = function() {
    var p = window.location.search.substr(1).split('&');
    p.forEach(function(e, i, a) {
      var keyVal = e.split('=');
      Dz.params[keyVal[0]] = decodeURIComponent(keyVal[1]);
    });
  // Specific params handling
    if (!+this.params.autoplay)
      $$.forEach($$("video"), function(v){ v.controls = true });
  }

  Dz.onkeydown = function(aEvent) {
    // Don't intercept keyboard shortcuts
    if (aEvent.altKey
      || aEvent.ctrlKey
      || aEvent.metaKey
      || aEvent.shiftKey) {
      return;
    }
    if ( aEvent.keyCode == 37 // left arrow
      || aEvent.keyCode == 38 // up arrow
      || aEvent.keyCode == 33 // page up
    ) {
      aEvent.preventDefault();
      this.back();
    }
    if ( aEvent.keyCode == 39 // right arrow
      || aEvent.keyCode == 40 // down arrow
      || aEvent.keyCode == 34 // page down
    ) {
      aEvent.preventDefault();
      this.forward();
    }
    if (aEvent.keyCode == 35) { // end
      aEvent.preventDefault();
      this.goEnd();
    }
    if (aEvent.keyCode == 36) { // home
      aEvent.preventDefault();
      this.goStart();
    }
    if (aEvent.keyCode == 32) { // space
      aEvent.preventDefault();
      this.toggleContent();
    }
    if (aEvent.keyCode == 70) { // f
      aEvent.preventDefault();
      this.goFullscreen();
    }
  }

  /* Touch Events */

  Dz.setupTouchEvents = function() {
    var orgX, newX;
    var tracking = false;

    var db = document.body;
    db.addEventListener("touchstart", start.bind(this), false);
    db.addEventListener("touchmove", move.bind(this), false);

    function start(aEvent) {
      aEvent.preventDefault();
      tracking = true;
      orgX = aEvent.changedTouches[0].pageX;
    }

    function move(aEvent) {
      if (!tracking) return;
      newX = aEvent.changedTouches[0].pageX;
      if (orgX - newX > 100) {
        tracking = false;
        this.forward();
      } else {
        if (orgX - newX < -100) {
          tracking = false;
          this.back();
        }
      }
    }
  }

  /* Adapt the size of the slides to the window */

  Dz.onresize = function() {
    var db = document.body;
    var sx = db.clientWidth / window.innerWidth;
    var sy = db.clientHeight / window.innerHeight;
    var transform = "scale(" + (1/Math.max(sx, sy)) + ")";

    db.style.MozTransform = transform;
    db.style.WebkitTransform = transform;
    db.style.OTransform = transform;
    db.style.msTransform = transform;
    db.style.transform = transform;
  }


  Dz.getDetails = function(aIdx) {
    var s = $("section:nth-of-type(" + aIdx + ")");
    var d = s.$("details");
    return d ? d.innerHTML : "";
  }

  Dz.onmessage = function(aEvent) {
    var argv = aEvent.data.split(" "), argc = argv.length;
    argv.forEach(function(e, i, a) { a[i] = decodeURIComponent(e) });
    var win = aEvent.source;
    if (argv[0] === "REGISTER" && argc === 1) {
      this.remoteWindows.push(win);
      this.postMsg(win, "REGISTERED", document.title, this.slides.length);
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
      return;
    }
    if (argv[0] === "BACK" && argc === 1)
      this.back();
    if (argv[0] === "FORWARD" && argc === 1)
      this.forward();
    if (argv[0] === "START" && argc === 1)
      this.goStart();
    if (argv[0] === "END" && argc === 1)
      this.goEnd();
    if (argv[0] === "TOGGLE_CONTENT" && argc === 1)
      this.toggleContent();
    if (argv[0] === "SET_CURSOR" && argc === 2)
      window.location.hash = "#" + argv[1];
    if (argv[0] === "GET_CURSOR" && argc === 1)
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
    if (argv[0] === "GET_NOTES" && argc === 1)
      this.postMsg(win, "NOTES", this.getDetails(this.idx));
  }

  Dz.toggleContent = function() {
    // If a Video is present in this new slide, play it.
    // If a Video is present in the previous slide, stop it.
    var s = $("section[aria-selected]");
    if (s) {
      var video = s.$("video");
      if (video) {
        if (video.ended || video.paused) {
          video.play();
        } else {
          video.pause();
        }
      }
    }
  }

  Dz.setCursor = function(aIdx, aStep) {
    // If the user change the slide number in the URL bar, jump
    // to this slide.
    aStep = (aStep != 0 && typeof aStep !== "undefined") ? "." + aStep : ".0";
    window.location.hash = "#" + aIdx + aStep;
  }

  Dz.onhashchange = function() {
    var cursor = window.location.hash.split("#"),
        newidx = 1,
        newstep = 0;
    if (cursor.length == 2) {
      newidx = ~~cursor[1].split(".")[0];
      newstep = ~~cursor[1].split(".")[1];
      if (newstep > Dz.slides[newidx - 1].$$('.incremental > *').length) {
        newstep = 0;
        newidx++;
      }
    }
    this.setProgress(newidx, newstep);
    if (newidx != this.idx) {
      this.setSlide(newidx);
    }
    if (newstep != this.step) {
      this.setIncremental(newstep);
    }
    for (var i = 0; i < this.remoteWindows.length; i++) {
      this.postMsg(this.remoteWindows[i], "CURSOR", this.idx + "." + this.step);
    }
  }

  Dz.back = function() {
    if (this.idx == 1 && this.step == 0) {
      return;
    }
    if (this.step == 0) {
      this.setCursor(this.idx - 1,
                     this.slides[this.idx - 2].$$('.incremental > *').length);
    } else {
      this.setCursor(this.idx, this.step - 1);
    }
  }

  Dz.forward = function() {
    if (this.idx >= this.slides.length &&
        this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
        return;
    }
    if (this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
      this.setCursor(this.idx + 1, 0);
    } else {
      this.setCursor(this.idx, this.step + 1);
    }
  }

  Dz.goStart = function() {
    this.setCursor(1, 0);
  }

  Dz.goEnd = function() {
    var lastIdx = this.slides.length;
    var lastStep = this.slides[lastIdx - 1].$$('.incremental > *').length;
    this.setCursor(lastIdx, lastStep);
  }

  Dz.setSlide = function(aIdx) {
    this.idx = aIdx;
    var old = $("section[aria-selected]");
    var next = $("section:nth-of-type("+ this.idx +")");
    if (old) {
      old.removeAttribute("aria-selected");
      var video = old.$("video");
      if (video) {
        video.pause();
      }
    }
    if (next) {
      next.setAttribute("aria-selected", "true");
      var video = next.$("video");
      if (video && !!+this.params.autoplay) {
        video.play();
      }
    } else {
      // That should not happen
      this.idx = -1;
      // console.warn("Slide doesn't exist.");
    }
  }

  Dz.setIncremental = function(aStep) {
    this.step = aStep;
    var old = this.slides[this.idx - 1].$('.incremental > *[aria-selected]');
    if (old) {
      old.removeAttribute('aria-selected');
    }
    var incrementals = $$('.incremental');
    if (this.step <= 0) {
      $$.forEach(incrementals, function(aNode) {
        aNode.removeAttribute('active');
      });
      return;
    }
    var next = this.slides[this.idx - 1].$$('.incremental > *')[this.step - 1];
    if (next) {
      next.setAttribute('aria-selected', true);
      next.parentNode.setAttribute('active', true);
      var found = false;
      $$.forEach(incrementals, function(aNode) {
        if (aNode != next.parentNode)
          if (found)
            aNode.removeAttribute('active');
          else
            aNode.setAttribute('active', true);
        else
          found = true;
      });
    } else {
      setCursor(this.idx, 0);
    }
    return next;
  }

  Dz.goFullscreen = function() {
    var html = $('html'),
        requestFullscreen = html.requestFullscreen || html.requestFullScreen || html.mozRequestFullScreen || html.webkitRequestFullScreen;
    if (requestFullscreen) {
      requestFullscreen.apply(html);
    }
  }
  
  Dz.setProgress = function(aIdx, aStep) {
    var slide = $("section:nth-of-type("+ aIdx +")");
    if (!slide)
      return;
    var steps = slide.$$('.incremental > *').length + 1,
        slideSize = 100 / (this.slides.length - 1),
        stepSize = slideSize / steps;
    this.progressBar.style.width = ((aIdx - 1) * slideSize + aStep * stepSize) + '%';
  }
  
  Dz.postMsg = function(aWin, aMsg) { // [arg0, [arg1...]]
    aMsg = [aMsg];
    for (var i = 2; i < arguments.length; i++)
      aMsg.push(encodeURIComponent(arguments[i]));
    aWin.postMessage(aMsg.join(" "), "*");
  }
  
  function init() {
    Dz.init();
    window.onkeydown = Dz.onkeydown.bind(Dz);
    window.onresize = Dz.onresize.bind(Dz);
    window.onhashchange = Dz.onhashchange.bind(Dz);
    window.onmessage = Dz.onmessage.bind(Dz);
  }

  window.onload = init;
</script>


<script> // Helpers
  if (!Function.prototype.bind) {
    Function.prototype.bind = function (oThis) {

      // closest thing possible to the ECMAScript 5 internal IsCallable
      // function 
      if (typeof this !== "function")
      throw new TypeError(
        "Function.prototype.bind - what is trying to be fBound is not callable"
      );

      var aArgs = Array.prototype.slice.call(arguments, 1),
          fToBind = this,
          fNOP = function () {},
          fBound = function () {
            return fToBind.apply( this instanceof fNOP ? this : oThis || window,
                   aArgs.concat(Array.prototype.slice.call(arguments)));
          };

      fNOP.prototype = this.prototype;
      fBound.prototype = new fNOP();

      return fBound;
    };
  }

  var $ = (HTMLElement.prototype.$ = function(aQuery) {
    return this.querySelector(aQuery);
  }).bind(document);

  var $$ = (HTMLElement.prototype.$$ = function(aQuery) {
    return this.querySelectorAll(aQuery);
  }).bind(document);

  $$.forEach = function(nodeList, fun) {
    Array.prototype.forEach.call(nodeList, fun);
  }

</script>
<!-- vim: set fdm=marker: }}} -->
</body>
</html>
