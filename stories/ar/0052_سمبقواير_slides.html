<!DOCTYPE html>
<head>
<meta charset="utf-8">
  <title>سمبقواير - Global African Storybook</title>
  <style type="text/css">code{white-space: pre;}</style>
<style>
  html { background-color: black; }
  body { background-color: white; border-radius: 12px}
  /* A section is a slide. It's size is 800x600, and this will never change */
  section {
      font-family: Arial, serif;
      font-size: 14pt;
      text-align: center;
    }
  address, blockquote, dl, fieldset, form, h1, h2, h3, h4, h5, h6, hr, ol, p, pre, table, ul, dl { padding: 10px 20px 10px 20px; }
  h1, h2, h3 {
    text-align: center;
    margin: 10pt 10pt 20pt 10pt;
  }
  ul, ol {
    margin: 10px 10px 10px 50px;
  }
  img {
    width: 40%;
  }
  .license {
    font-size: small;
  }
  .license img {
    width: auto;
  }
  section.titleslide h1 { margin-top: 200px; }
  h1.title { margin-top: 150px; }
  h1 { font-size: 180%; }
  h2 { font-size: 120%; }
  h3 { font-size: 100%; }
  q { quotes: "“" "”" "‘" "’"; }
  blockquote { font-style: italic }
  /* Figures are displayed full-page, with the caption on
     top of the image/video */
  figure {
    background-color: black;
  }
  figcaption {
    margin: 70px;
  }
  footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    padding: 40px;
    text-align: right;
    background-color: #F3F4F8;
    border-top: 1px solid #CCC;
  }

  /* Transition effect */
  /* Feel free to change the transition effect for original
     animations. See here:
     https://developer.mozilla.org/en/CSS/CSS_transitions
     How to use CSS3 Transitions: */
  section {
      -moz-transition: left 400ms linear 0s;
      -webkit-transition: left 400ms linear 0s;
      -ms-transition: left 400ms linear 0s;
      transition: left 400ms linear 0s;
  }

  /* Before */
  section { left: -150%; }
  /* Now */
  section[aria-selected] { left: 0; }
  /* After */
  section[aria-selected] ~ section { left: +150%; }

  /* Incremental elements */

  /* By default, visible */
  .incremental > * { opacity: 1; }

  /* The current item */
  .incremental > *[aria-selected] { color: red; opacity: 1; }

  /* The items to-be-selected */
  .incremental > *[aria-selected] ~ * { opacity: 0.2; }
</style>
</head>
<body>

<section id="سمبقواير" class="slide level1">
<h1 dir="rtl">سمبقواير</h1>
<center>
<img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/01.jpg" />
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/02.jpg" /></p>
<p dir="rtl">توفيت أم سمبقواير، فحزنت البنت حزنا شديدا. فعل أبوها كل ما في وسعه للعناية بها، فبدآ رويدا رويدا يسترجعان معا شعورهما بالفرح رغم غياب الأم. كانا يجلسان كل صباح ويتناقشان فيما سيفعلانه خلال اليوم. وفي المساء، كانا يحضران العشاء معا ويغسلان الأطباق ثم يقوم أب سمبقواير بمساعدتها في القيام بفروضها المنزلية.</p>
<center>
<strong>1</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/03.jpg" /></p>
<p dir="rtl">وفي يوم من الأيام، عاد أب سمبقواير إلى المنزل متأخرا على غير عادته وهتف:&quot; أين أنت صغيرتي؟&quot;. أسرعت سمبقواير لاستقبال أبيها غير أنها توقفت فجأة عند ما رأت والدها يمسك بيد امرأة لا تعرفها. قال الأب مبتسما: &quot;صغيرتي، أريدك أن تلتقي بشخص مميز ... هذه أنيتا&quot;.</p>
<center>
<strong>2</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/04.jpg" /></p>
<p dir="rtl">قالت أنيتا: &quot; أهلا سمبقواير. لقد حدثني أبوك عنك كثيرا &quot;، غير أنها لم تبتسم ولم تمسك بيد سمبقواير. وكان أب سمبقواير فرحا متحمسا، يتحدث عن حياتهم الثلاثة معا وكيف أنها ستكون رائعة وسعيدة. ثم أضاف: &quot; صغيرتي، أرجو أن تقبلي أنيتا كأم لك&quot;.</p>
<center>
<strong>3</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/05.jpg" /></p>
<p dir="rtl">تغيرت حياة سمبقواير ولم يعد لديها الوقت لتجلس لأبيها كل صباح. فقد كانت أنيتا تكلفها بأعمال منزلية كثيرة ترهقها وتمنعها من القيام بواجباتها المدرسية عند المساء. لذلك كانت سمبقواير تنام مباشرة بعد إنهاء الأعمال المنزلية. كان عزاءها الوحيد غطاء ملون منحتها إياه أمها قبل وفاتها. أما الأب فلم يكن باديا عليه أنه لاحظ حزن ابنته.</p>
<center>
<strong>4</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/06.jpg" /></p>
<p dir="rtl">وبعد بضعة أشهر أعلم الأب زوجته وابنته أنه سيبتعد لبعض الوقت. قال لهما:&quot; سأسافر للقيام ببعض الأعمال. لكنني على ثقة من أنكما ستعتنيان ببعضكما.&quot; تغير وجه سمبقواير لكن أباها لم يلحظ ذلك. أنيتا أيضا لم تكن سعيدة بهذا الخبر لكنها لم تنبس بكلمة.</p>
<center>
<strong>5</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/07.jpg" /></p>
<p dir="rtl">تدهورت حياة سمبقواير، فقد كانت أنيتا تضربها كلما اشتكت أو أنها لم تتمكن من إنهاء العمل الذي كلفتها به. أما عند العشاء فقد كانت أنيتا تستأثر لنفسها بالكمية الأكبر من الأكل ولا تترك لسمبقواير غيرالفُتاة. كانت سمبقواير تنام كل ليلة باكية، محتضنة الغطاء الذي أهدتها إياه أمها.</p>
<center>
<strong>6</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/08.jpg" /></p>
<p dir="rtl">وفي إحدى الأيام استيقظت سمبقواير متأخرة فصرخت أنيتا بوجهها: &quot;أنت ... أيتها البنت الكسولة &quot; ودفعتها بقوة خارج السرير فعلق الغطاء الثمين بمسمار وتمزق إلى نصفين.</p>
<center>
<strong>7</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/09.jpg" /></p>
<p dir="rtl">غضبت سمبقواير غضبا شديدا وقررت الهروب من المنزل. فأخذت جُزْءَيْ الغطاء وبعضا من الطعام وغادرت المنزل متبعة الطريق التي سلكها أبوها.</p>
<center>
<strong>8</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/10.jpg" /></p>
<p dir="rtl">عندما أقبل المساء، تسلقت الفتاة شجرة باسقة على ضفة نهر وجعلت لنفسها سريرا بين أغصانها وبدأت تغني وهي تستعد للنوم: &quot; ما ما، ماما، ماما، لقد تركتني ... تركتني ولن تعودي أبدا. أبي لم يعد يحبني. ماما متى ستعودين؟&quot;</p>
<center>
<strong>9</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/11.jpg" /></p>
<p dir="rtl">ومن الغد غنت سمبقواير نفس الأغنية من جديد عندما كان بعض النسوة يغسلن الثياب بماء النهر. ولما سمعن الأغنية الحزينة تَصِلُهنَّ من أعلى الشجرة، ظنن أنها لا تعدو أن تكون وشوشة الريح في أوراق الشجرة وواصلن عملهن متجاهلات ما سمعن. لكن إحداهن استمعت إلى الأغنية بانتباه شديد.</p>
<center>
<strong>10</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/12.jpg" /></p>
<p dir="rtl">رفعت المرأة نظرها إلى أعلى الشجرة، وعندما رأت الفتاة وقطعتَيْ الغطاء الملونتين صاحت: &quot;سمبقواير ... ابنة أخي!&quot;. توقفت بقية النساء عن غسل الثياب وساعدن سمبقواير على النزول من أعلى الشجرة. عانقت العمة الطفلة الصغيرة وحاولت مواساتها.</p>
<center>
<strong>11</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/13.jpg" /></p>
<p dir="rtl">أخذت العمة الصغيرة معها إلى منزلها وقدمت لها طعاما ساخنا ووضعتها في سرير لتنام وغطاء أمها معها. ليلتها بكت سمبقواير قبل أن تنام لكنها كانت دموع فرح وسعادة، إذ أنها أدركت بأن عمتها سوف تعتني بها.</p>
<center>
<strong>12</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/14.jpg" /></p>
<p dir="rtl">عندما عاد أب سمبقواير إلى المنزل، وجد غرفتها خالية. انزعج الأب وسأل أنيتا عن ابنته وقلبه مثقل بالحزن:&quot; أنيتا، ما الذي حصل؟ &quot;. أجابت أنيتا بأن سمبقواير قد هربت من المنزل، مضيفة:&quot; كنت أريدها أن تحترمني: لكن أظن أنني قد قسوت عليها بعض الشيء&quot;. غادر الأب البيت مسرعا في اتجاه النهر، وواصل طريقه نحو بيت أخته، أملا في أن تكون قد رأت سمبقواير.</p>
<center>
<strong>13</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/15.jpg" /></p>
<p dir="rtl">كانت سمبقواير تلعب مع أبناء عمتها عندما رأت أباها مقبلا من بعيد. أصابها ذعر شديد من أن يكون غاضبا منها فأسرعت بالاختباء داخل المنزل. لكن أباها أسرع إليها قائلا: &quot;عزيزتي سمبقواير، لقد وجدتِ أما رائعة لك ... تحبك وتفهمك، أحبك صغيرتي وأنا فخور بك&quot;. اتفق الجميع على أن تظل سمبقواير مع عمتها طالما أرادت ذلك.</p>
<center>
<strong>14</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/16.jpg" /></p>
<p dir="rtl">كان أبوها يزورها كل يوم. وأخيرا اصطحب معه أنيتا إلى منزل أخته. ا أمسكت أنيتا بيد سمبقواير هذه المرة وقالت باكية:&quot; سامحيني صغيرتي، لقد أخطأت في حقك، هلا منحتني فرصة أخرى؟&quot;. نظرت سمبقواير إلى أبيها فرأت قلقا يعلو وجهه. فتقدمت ببطء نحو أنيتا وأحاطتها بذراعيها.</p>
<center>
<strong>15</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0052/17.jpg" /></p>
<p dir="rtl">ومن الغد، دعت أنيتا سمبقواير وعمتها وأبناء عمتها إلى وجبة غذاء بمنزلها. كانت مأدبة رائعة، إذ أن أنيتا أعدت كل الأطباق التي تحبها سمبقواير. أكل الجميع حد التخمة وانغمس الأطفال في اللعب بينما انصرف الكبار يتجاذبون أطراف الحديث. شعرت سمبقواير بالفرح وبالشجاعة وقررت أن تعود قريبا جدا للعيش مع أبيها وزوجة أبيها في منزل العائلة</p>
<center>
<strong>16</strong>
</center>

</section>
<section class="slide level1">

<h2 id="سمبقواير-1">سمبقواير</h2>
<strong>Text:</strong> Rukia Nantale<br> <strong>Illustrations:</strong> Benjamin Mitchley<br> <strong>Translation:</strong> Maaouia Haj Mabrouk<br> <strong>Language:</strong> Arabic<br>
<p dir="rtl">
This story is brought to you by the <a href='https://global-asp.github.io/'>Global African Storybook Project</a>, an effort to translate the stories of the <a href='http://africanstorybook.org/'>African Storybook Project</a> into all the languages of the world.
<p dir="rtl">
You can view the original story on the ASP website <a href='http://my.africanstorybook.org/stories/simbegwire'>here</a>
<p dir="rtl"><div class="license">
<a href="https://global-asp.github.io"><img src="https://global-asp.github.io/logo.png" alt="Global ASP logo" border="0" /></a>
</div>

<p dir="rtl"><center><div class="license">
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.
</div></center>


</section>


<!-- {{{{ dzslides core
#
#
#     __  __  __       .  __   ___  __
#    |  \  / /__` |    | |  \ |__  /__`
#    |__/ /_ .__/ |___ | |__/ |___ .__/ core :€
#
#
# The following block of code is not supposed to be edited.
# But if you want to change the behavior of these slides,
# feel free to hack it!
#
-->

<div id="progress-bar"></div>

<!-- Default Style -->
<style>
  * { margin: 0; padding: 0; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
  details { display: none; }
  body {
    width: 800px; height: 600px;
    margin-left: -400px; margin-top: -300px;
    position: absolute; top: 50%; left: 50%;
    overflow: hidden;
  }
  section {
    position: absolute;
    pointer-events: none;
    width: 100%; height: 100%;
  }
  section[aria-selected] { pointer-events: auto; }
  html { overflow: hidden; }
  body { display: none; }
  body.loaded { display: block; }
  .incremental {visibility: hidden; }
  .incremental[active] {visibility: visible; }
  #progress-bar{
    bottom: 0;
    position: absolute;
    -moz-transition: width 400ms linear 0s;
    -webkit-transition: width 400ms linear 0s;
    -ms-transition: width 400ms linear 0s;
    transition: width 400ms linear 0s;
  }
  figure {
    width: 100%;
    height: 100%;
  }
  figure > * {
    position: absolute;
  }
  figure > img, figure > video {
    width: 100%; height: 100%;
  }
</style>

<script>
  var Dz = {
    remoteWindows: [],
    idx: -1,
    step: 0,
    slides: null,
    progressBar : null,
    params: {
      autoplay: "1"
    }
  };

  Dz.init = function() {
    document.body.className = "loaded";
    this.slides = $$("body > section");
    this.progressBar = $("#progress-bar");
    this.setupParams();
    this.onhashchange();
    this.setupTouchEvents();
    this.onresize();
  }
  
  Dz.setupParams = function() {
    var p = window.location.search.substr(1).split('&');
    p.forEach(function(e, i, a) {
      var keyVal = e.split('=');
      Dz.params[keyVal[0]] = decodeURIComponent(keyVal[1]);
    });
  // Specific params handling
    if (!+this.params.autoplay)
      $$.forEach($$("video"), function(v){ v.controls = true });
  }

  Dz.onkeydown = function(aEvent) {
    // Don't intercept keyboard shortcuts
    if (aEvent.altKey
      || aEvent.ctrlKey
      || aEvent.metaKey
      || aEvent.shiftKey) {
      return;
    }
    if ( aEvent.keyCode == 37 // left arrow
      || aEvent.keyCode == 38 // up arrow
      || aEvent.keyCode == 33 // page up
    ) {
      aEvent.preventDefault();
      this.back();
    }
    if ( aEvent.keyCode == 39 // right arrow
      || aEvent.keyCode == 40 // down arrow
      || aEvent.keyCode == 34 // page down
    ) {
      aEvent.preventDefault();
      this.forward();
    }
    if (aEvent.keyCode == 35) { // end
      aEvent.preventDefault();
      this.goEnd();
    }
    if (aEvent.keyCode == 36) { // home
      aEvent.preventDefault();
      this.goStart();
    }
    if (aEvent.keyCode == 32) { // space
      aEvent.preventDefault();
      this.toggleContent();
    }
    if (aEvent.keyCode == 70) { // f
      aEvent.preventDefault();
      this.goFullscreen();
    }
  }

  /* Touch Events */

  Dz.setupTouchEvents = function() {
    var orgX, newX;
    var tracking = false;

    var db = document.body;
    db.addEventListener("touchstart", start.bind(this), false);
    db.addEventListener("touchmove", move.bind(this), false);

    function start(aEvent) {
      aEvent.preventDefault();
      tracking = true;
      orgX = aEvent.changedTouches[0].pageX;
    }

    function move(aEvent) {
      if (!tracking) return;
      newX = aEvent.changedTouches[0].pageX;
      if (orgX - newX > 100) {
        tracking = false;
        this.forward();
      } else {
        if (orgX - newX < -100) {
          tracking = false;
          this.back();
        }
      }
    }
  }

  /* Adapt the size of the slides to the window */

  Dz.onresize = function() {
    var db = document.body;
    var sx = db.clientWidth / window.innerWidth;
    var sy = db.clientHeight / window.innerHeight;
    var transform = "scale(" + (1/Math.max(sx, sy)) + ")";

    db.style.MozTransform = transform;
    db.style.WebkitTransform = transform;
    db.style.OTransform = transform;
    db.style.msTransform = transform;
    db.style.transform = transform;
  }


  Dz.getDetails = function(aIdx) {
    var s = $("section:nth-of-type(" + aIdx + ")");
    var d = s.$("details");
    return d ? d.innerHTML : "";
  }

  Dz.onmessage = function(aEvent) {
    var argv = aEvent.data.split(" "), argc = argv.length;
    argv.forEach(function(e, i, a) { a[i] = decodeURIComponent(e) });
    var win = aEvent.source;
    if (argv[0] === "REGISTER" && argc === 1) {
      this.remoteWindows.push(win);
      this.postMsg(win, "REGISTERED", document.title, this.slides.length);
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
      return;
    }
    if (argv[0] === "BACK" && argc === 1)
      this.back();
    if (argv[0] === "FORWARD" && argc === 1)
      this.forward();
    if (argv[0] === "START" && argc === 1)
      this.goStart();
    if (argv[0] === "END" && argc === 1)
      this.goEnd();
    if (argv[0] === "TOGGLE_CONTENT" && argc === 1)
      this.toggleContent();
    if (argv[0] === "SET_CURSOR" && argc === 2)
      window.location.hash = "#" + argv[1];
    if (argv[0] === "GET_CURSOR" && argc === 1)
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
    if (argv[0] === "GET_NOTES" && argc === 1)
      this.postMsg(win, "NOTES", this.getDetails(this.idx));
  }

  Dz.toggleContent = function() {
    // If a Video is present in this new slide, play it.
    // If a Video is present in the previous slide, stop it.
    var s = $("section[aria-selected]");
    if (s) {
      var video = s.$("video");
      if (video) {
        if (video.ended || video.paused) {
          video.play();
        } else {
          video.pause();
        }
      }
    }
  }

  Dz.setCursor = function(aIdx, aStep) {
    // If the user change the slide number in the URL bar, jump
    // to this slide.
    aStep = (aStep != 0 && typeof aStep !== "undefined") ? "." + aStep : ".0";
    window.location.hash = "#" + aIdx + aStep;
  }

  Dz.onhashchange = function() {
    var cursor = window.location.hash.split("#"),
        newidx = 1,
        newstep = 0;
    if (cursor.length == 2) {
      newidx = ~~cursor[1].split(".")[0];
      newstep = ~~cursor[1].split(".")[1];
      if (newstep > Dz.slides[newidx - 1].$$('.incremental > *').length) {
        newstep = 0;
        newidx++;
      }
    }
    this.setProgress(newidx, newstep);
    if (newidx != this.idx) {
      this.setSlide(newidx);
    }
    if (newstep != this.step) {
      this.setIncremental(newstep);
    }
    for (var i = 0; i < this.remoteWindows.length; i++) {
      this.postMsg(this.remoteWindows[i], "CURSOR", this.idx + "." + this.step);
    }
  }

  Dz.back = function() {
    if (this.idx == 1 && this.step == 0) {
      return;
    }
    if (this.step == 0) {
      this.setCursor(this.idx - 1,
                     this.slides[this.idx - 2].$$('.incremental > *').length);
    } else {
      this.setCursor(this.idx, this.step - 1);
    }
  }

  Dz.forward = function() {
    if (this.idx >= this.slides.length &&
        this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
        return;
    }
    if (this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
      this.setCursor(this.idx + 1, 0);
    } else {
      this.setCursor(this.idx, this.step + 1);
    }
  }

  Dz.goStart = function() {
    this.setCursor(1, 0);
  }

  Dz.goEnd = function() {
    var lastIdx = this.slides.length;
    var lastStep = this.slides[lastIdx - 1].$$('.incremental > *').length;
    this.setCursor(lastIdx, lastStep);
  }

  Dz.setSlide = function(aIdx) {
    this.idx = aIdx;
    var old = $("section[aria-selected]");
    var next = $("section:nth-of-type("+ this.idx +")");
    if (old) {
      old.removeAttribute("aria-selected");
      var video = old.$("video");
      if (video) {
        video.pause();
      }
    }
    if (next) {
      next.setAttribute("aria-selected", "true");
      var video = next.$("video");
      if (video && !!+this.params.autoplay) {
        video.play();
      }
    } else {
      // That should not happen
      this.idx = -1;
      // console.warn("Slide doesn't exist.");
    }
  }

  Dz.setIncremental = function(aStep) {
    this.step = aStep;
    var old = this.slides[this.idx - 1].$('.incremental > *[aria-selected]');
    if (old) {
      old.removeAttribute('aria-selected');
    }
    var incrementals = $$('.incremental');
    if (this.step <= 0) {
      $$.forEach(incrementals, function(aNode) {
        aNode.removeAttribute('active');
      });
      return;
    }
    var next = this.slides[this.idx - 1].$$('.incremental > *')[this.step - 1];
    if (next) {
      next.setAttribute('aria-selected', true);
      next.parentNode.setAttribute('active', true);
      var found = false;
      $$.forEach(incrementals, function(aNode) {
        if (aNode != next.parentNode)
          if (found)
            aNode.removeAttribute('active');
          else
            aNode.setAttribute('active', true);
        else
          found = true;
      });
    } else {
      setCursor(this.idx, 0);
    }
    return next;
  }

  Dz.goFullscreen = function() {
    var html = $('html'),
        requestFullscreen = html.requestFullscreen || html.requestFullScreen || html.mozRequestFullScreen || html.webkitRequestFullScreen;
    if (requestFullscreen) {
      requestFullscreen.apply(html);
    }
  }
  
  Dz.setProgress = function(aIdx, aStep) {
    var slide = $("section:nth-of-type("+ aIdx +")");
    if (!slide)
      return;
    var steps = slide.$$('.incremental > *').length + 1,
        slideSize = 100 / (this.slides.length - 1),
        stepSize = slideSize / steps;
    this.progressBar.style.width = ((aIdx - 1) * slideSize + aStep * stepSize) + '%';
  }
  
  Dz.postMsg = function(aWin, aMsg) { // [arg0, [arg1...]]
    aMsg = [aMsg];
    for (var i = 2; i < arguments.length; i++)
      aMsg.push(encodeURIComponent(arguments[i]));
    aWin.postMessage(aMsg.join(" "), "*");
  }
  
  function init() {
    Dz.init();
    window.onkeydown = Dz.onkeydown.bind(Dz);
    window.onresize = Dz.onresize.bind(Dz);
    window.onhashchange = Dz.onhashchange.bind(Dz);
    window.onmessage = Dz.onmessage.bind(Dz);
  }

  window.onload = init;
</script>


<script> // Helpers
  if (!Function.prototype.bind) {
    Function.prototype.bind = function (oThis) {

      // closest thing possible to the ECMAScript 5 internal IsCallable
      // function 
      if (typeof this !== "function")
      throw new TypeError(
        "Function.prototype.bind - what is trying to be fBound is not callable"
      );

      var aArgs = Array.prototype.slice.call(arguments, 1),
          fToBind = this,
          fNOP = function () {},
          fBound = function () {
            return fToBind.apply( this instanceof fNOP ? this : oThis || window,
                   aArgs.concat(Array.prototype.slice.call(arguments)));
          };

      fNOP.prototype = this.prototype;
      fBound.prototype = new fNOP();

      return fBound;
    };
  }

  var $ = (HTMLElement.prototype.$ = function(aQuery) {
    return this.querySelector(aQuery);
  }).bind(document);

  var $$ = (HTMLElement.prototype.$$ = function(aQuery) {
    return this.querySelectorAll(aQuery);
  }).bind(document);

  $$.forEach = function(nodeList, fun) {
    Array.prototype.forEach.call(nodeList, fun);
  }

</script>
<!-- vim: set fdm=marker: }}} -->
</body>
</html>
