<!DOCTYPE html>
<head>
<meta charset="utf-8">
  <title>ماگزو - Global African Storybook</title>
  <style type="text/css">code{white-space: pre;}</style>
<style>
  html { background-color: black; }
  body { background-color: white; border-radius: 12px}
  /* A section is a slide. It's size is 800x600, and this will never change */
  section {
      font-family: Arial, serif;
      font-size: 14pt;
      text-align: center;
    }
  address, blockquote, dl, fieldset, form, h1, h2, h3, h4, h5, h6, hr, ol, p, pre, table, ul, dl { padding: 10px 20px 10px 20px; }
  h1, h2, h3 {
    text-align: center;
    margin: 10pt 10pt 20pt 10pt;
  }
  ul, ol {
    margin: 10px 10px 10px 50px;
  }
  img {
    width: 40%;
  }
  .license {
    font-size: small;
  }
  .license img {
    width: auto;
  }
  section.titleslide h1 { margin-top: 200px; }
  h1.title { margin-top: 150px; }
  h1 { font-size: 180%; }
  h2 { font-size: 120%; }
  h3 { font-size: 100%; }
  q { quotes: "“" "”" "‘" "’"; }
  blockquote { font-style: italic }
  /* Figures are displayed full-page, with the caption on
     top of the image/video */
  figure {
    background-color: black;
  }
  figcaption {
    margin: 70px;
  }
  footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    padding: 40px;
    text-align: right;
    background-color: #F3F4F8;
    border-top: 1px solid #CCC;
  }

  /* Transition effect */
  /* Feel free to change the transition effect for original
     animations. See here:
     https://developer.mozilla.org/en/CSS/CSS_transitions
     How to use CSS3 Transitions: */
  section {
      -moz-transition: left 400ms linear 0s;
      -webkit-transition: left 400ms linear 0s;
      -ms-transition: left 400ms linear 0s;
      transition: left 400ms linear 0s;
  }

  /* Before */
  section { left: -150%; }
  /* Now */
  section[aria-selected] { left: 0; }
  /* After */
  section[aria-selected] ~ section { left: +150%; }

  /* Incremental elements */

  /* By default, visible */
  .incremental > * { opacity: 1; }

  /* The current item */
  .incremental > *[aria-selected] { color: red; opacity: 1; }

  /* The items to-be-selected */
  .incremental > *[aria-selected] ~ * { opacity: 0.2; }
</style>
</head>
<body>

<section id="ماگزو" class="slide level1">
<h1 dir="rtl">ماگزو</h1>
<center>
<img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/01.jpg" />
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/02.jpg" /></p>
<p dir="rtl">در شهر شلوغ نایروبی، دور از کانون گرم خانواده گروهی از پسرهای بی خانمان زندگی می کردند. آنها روزها را بی هدف سپری می کردند. یک روز صبح، درحالیکه پسرها شب قبل را روی پیاده روی سرد خوابیده بودند، زیراندازشان را جمع می کردند. برای مقابله با سرمای روز آشغال می سوزاندند تا خود را گرم کنند. ماگزو دربین آن گروه از پسرها بود. او کوچکترین عضو گروه بود.</p>
<center>
<strong>1</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/03.jpg" /></p>
<p dir="rtl">وقتی که پدر و مادرماگزو مردند، او فقط پنج سال داشت. او رفت که با عمویش زندگی کند. این مرد مراقب آن بچه نبود. او غذای کافی به ماگزو نمی داد. او ماگزو را مجبور می کرد که کارهای سخت زیادی انجام دهد.</p>
<center>
<strong>2</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/04.jpg" /></p>
<p dir="rtl">اگر ماگزو شکایت می کرد یا سوالی می پرسید، عمویش او را می زد. وقتی ماگزو از او پرسید که می تواند به مدرسه برود، عمویش او را زد و گفت&quot; تو برای یاد گرفتن هرچیزی خیلی احمق و کودن هستی.&quot;سه سال بعد از این رفتار ماگزو از خانه ی عمویش فرار کرد. او شروع کرد به زندگی کردن در خیابان.</p>
<center>
<strong>3</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/05.jpg" /></p>
<p dir="rtl">زندگی در خیابان سخت بود و بیشتر پسرها روزانه برای به دست آوردن غذا تلاش می کردند. بعضی مواقع بازداشت می شدند، بعضی مواقع کتک می خوردند. وقتی مریض بودند، کسی نبود که به آنها کمک کند. آن گروه به پول کمی که ازگدایی، و فروش پلاستیک ها و دیگر مواد بازیافتی، به دست می آوردند، وابسته بودند. زندگی حتی سخت تر می شد زمانی که گروه های رقیب برای به دست آوردن کنترل شهر با هم می جنگیدند.</p>
<center>
<strong>4</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/06.jpg" /></p>
<p dir="rtl">یک روز در حالیکه ماگزو داشت به سطل زباله نگاه می کرد، او یک کتاب داستان پاره پوره وکهنه پیدا کرد. او کثیفی را از آن پاک کرد و آن را داخل کیسه اش گذاشت. بعد از آن هر روز او کتاب را بیرون می آورد وبه تصاویرش نگاه می کرد. او نمی دانست که چگونه می تواند کلمات را بخواند.</p>
<center>
<strong>5</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/07.jpg" /></p>
<p dir="rtl">تصاویر داستان پسری را می گفت که می خواست بزرگ شود تا بتواند یک خلبان شود. ماگزو رویای هر روزش بود که خلبان شود. بعضی اوقات، او تصور می کرد که خودش همان پسری است که در داستان بود.</p>
<center>
<strong>6</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/08.jpg" /></p>
<p dir="rtl">هوا سرد بود و ماگزو در ابتدای جاده ایستاده بود. مردی به سمتش رفت. آن مرد گفت، &quot;سلام، من توماس هستم. من نزدیک اینجا کار می کنم، در جایی که تومی توانی چیزی برای خوردن پیدا کنی.&quot;او به خانه ای زرد با سقف آبی اشاره کرد.&quot; او پرسید، &quot;من امیدوار باشم که تو به آنجا بروی و مقداری غذا بگیری؟&quot; ماگزو به آن مرد وسپس آن خانه نگاه کرد. او گفت، &quot;شاید&quot; و به راهش ادامه داد.</p>
<center>
<strong>7</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/09.jpg" /></p>
<p dir="rtl">در طول ماهی که سپری شد پسرهای بی خانمان عادت داشتند توماس را در اطراف ببیند. او دوست داشت که با مردم صحبت کند، مخصوصا افرادی که در خیابان زندگی می کنند. توماس به داستان زندگی مردم گوش می داد. او جدی وصبور بود، هیچوقت گستاخ و بی اذب نبود. بعضی از پسران شروع به آن خانه ی زرد و آبی برای گرفتن غذا در نیمروزکردند.</p>
<center>
<strong>8</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/10.jpg" /></p>
<p dir="rtl">ماگزو روی پیاده رو نشسته بود وبه کتاب عکس دارش نگاه می کرد وقتی که توماس کنار او نشست. توماس پرسید، &quot;داستان در مورد چیست؟&quot; ماگزو جواب داد، &quot;داستان در مورد پسری است که خلبان شد.&quot; توماس پرسید، &quot;اسم آن پسر چه بود؟&quot; ماگزو به آرامی گفت، &quot;من نمی دانم، من نمی توانم بخوانم.&quot;</p>
<center>
<strong>9</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/11.jpg" /></p>
<p dir="rtl">وقتی که آنها را دید،ماگزو شروع به گفتن داستان زندگیش برای توماس کرد. آن داستان در مورد عمویش و اینکه چرا او فرار کرد بود. توماس زیاد صحبت نکرد و به ماگزو نگفت که چه کار کند، ولی همیشه با دقت گوش می داد. بعضی مواقع آنها با هم حرف می زدند در حالیکه در آن خانه با سقف آبی غذا می خوردند.</p>
<center>
<strong>10</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/12.jpg" /></p>
<p dir="rtl">نزدیک تولد ده سالگی ماگزو، توماس یک کتاب داستان جدید به او داد. این داستانی در مورد یک پسر روستایی بود که بزرگ شد تا یک فوتبالیست مشهور شود. توماس آن داستان را برای ماگزوچندین بار خواند، تا اینکه یک روز گفت، &quot;من فکر می کنم زمان به مدرسه رفتن توو یادگیری برای خواندن تو است. تو چی فکر می کنی؟&quot;توماس توضیح داد که من جایی را سراغ دارم که بچه ها می توانند در آنجا بمانند، و به مدرسه بروند.</p>
<center>
<strong>11</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/13.jpg" /></p>
<p dir="rtl">ماگزو در مورد این مکان جدید و رفتن به مدرسه فکر کرد. اما اگر عمویش درست گفته باشد و او برای یاد گرفتن هر چیزی خیلی کودن باشد چی؟اما اگر در این جای جدید او را کتک بزنند چی ؟ او ترسیده بود. او با خود فکر کرد، &quot;شاید بهتر باشد که به زندگی کردن در خیابان ادامه دهد.&quot;</p>
<center>
<strong>12</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/14.jpg" /></p>
<p dir="rtl">او ترس هایش را با توماس در میان گذاشت. به مرور زمان توماس به ماگزو اطمینان داد که زندگی در محیط جدید می تواند بهتر باشد.</p>
<center>
<strong>13</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/15.jpg" /></p>
<p dir="rtl">و بنابراین ماگزو به اتاقی در خانه ای باسقف آبی رفت. او در آن اتاق با دو پسر دیگر شریک بود. روی هم رفته ده بچه در آن خانه زندگی می کردند. همراه با آنتی کیسی، سه سگ، یک گربه ویک بزغاله ی پیر.</p>
<center>
<strong>14</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/16.jpg" /></p>
<p dir="rtl">ماگزو مدرسه را شروع کرد، مدرسه سخت بود. او چیزهای زیادی برای یاد گرفتن داشت. بعضی مواقع می خواست که تسلیم شود. ولی او به آن خلبان و آن فوتبالیست در کتاب داستان فکر می کرد. آنها را دوست داشت، او تسلیم نمی شد.</p>
<center>
<strong>15</strong>
</center>

</section>
<section class="slide level1">

<p dir="rtl"><img src="https://raw.githubusercontent.com/global-asp/asp-imagebank/master/medium/0262/17.jpg" /></p>
<p dir="rtl">ماگزو در حیاط خانه ی با سقف سبز نشسته بود،وداشت یک کتاب داستان از مدرسه می خواند. توماس آمد وکنارش نشست. توماس پرسید، &quot;موضوع داستان چیست؟&quot; ماگزو در جواب گفت، &quot;داستان در مورد پسری است که معلم شد.&quot; توماس پرسید، &quot;اسم آن پسر چیست؟&quot; ماگزو با لبخند گفت، &quot;اسم آن پسر ماگزو است.&quot;</p>
<center>
<strong>16</strong>
</center>

</section>
<section class="slide level1">

<h2 dir="rtl" id="ماگزو-1">ماگزو</h2>
<strong>Text:</strong> Lesley Koyi<br> <strong>Illustrations:</strong> Wiehan de Jager<br> <strong>Translation:</strong> Marzieh Mohammadian Haghighi<br> <strong>Language:</strong> Persian<br>
<p dir="rtl">
This story is brought to you by the <a href='https://global-asp.github.io/'>Global African Storybook Project</a>, an effort to translate the stories of the <a href='http://africanstorybook.org/'>African Storybook Project</a> into all the languages of the world.
<p dir="rtl">
You can view the original story on the ASP website <a href='http://my.africanstorybook.org/stories/magozwe-0'>here</a>
<p dir="rtl"><div class="license">
<a href="https://global-asp.github.io"><img src="https://global-asp.github.io/logo.png" alt="Global ASP logo" border="0" /></a>
</div>

<p dir="rtl"><center><div class="license">
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.
</div></center>


</section>


<!-- {{{{ dzslides core
#
#
#     __  __  __       .  __   ___  __
#    |  \  / /__` |    | |  \ |__  /__`
#    |__/ /_ .__/ |___ | |__/ |___ .__/ core :€
#
#
# The following block of code is not supposed to be edited.
# But if you want to change the behavior of these slides,
# feel free to hack it!
#
-->

<div id="progress-bar"></div>

<!-- Default Style -->
<style>
  * { margin: 0; padding: 0; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
  details { display: none; }
  body {
    width: 800px; height: 600px;
    margin-left: -400px; margin-top: -300px;
    position: absolute; top: 50%; left: 50%;
    overflow: hidden;
  }
  section {
    position: absolute;
    pointer-events: none;
    width: 100%; height: 100%;
  }
  section[aria-selected] { pointer-events: auto; }
  html { overflow: hidden; }
  body { display: none; }
  body.loaded { display: block; }
  .incremental {visibility: hidden; }
  .incremental[active] {visibility: visible; }
  #progress-bar{
    bottom: 0;
    position: absolute;
    -moz-transition: width 400ms linear 0s;
    -webkit-transition: width 400ms linear 0s;
    -ms-transition: width 400ms linear 0s;
    transition: width 400ms linear 0s;
  }
  figure {
    width: 100%;
    height: 100%;
  }
  figure > * {
    position: absolute;
  }
  figure > img, figure > video {
    width: 100%; height: 100%;
  }
</style>

<script>
  var Dz = {
    remoteWindows: [],
    idx: -1,
    step: 0,
    slides: null,
    progressBar : null,
    params: {
      autoplay: "1"
    }
  };

  Dz.init = function() {
    document.body.className = "loaded";
    this.slides = $$("body > section");
    this.progressBar = $("#progress-bar");
    this.setupParams();
    this.onhashchange();
    this.setupTouchEvents();
    this.onresize();
  }
  
  Dz.setupParams = function() {
    var p = window.location.search.substr(1).split('&');
    p.forEach(function(e, i, a) {
      var keyVal = e.split('=');
      Dz.params[keyVal[0]] = decodeURIComponent(keyVal[1]);
    });
  // Specific params handling
    if (!+this.params.autoplay)
      $$.forEach($$("video"), function(v){ v.controls = true });
  }

  Dz.onkeydown = function(aEvent) {
    // Don't intercept keyboard shortcuts
    if (aEvent.altKey
      || aEvent.ctrlKey
      || aEvent.metaKey
      || aEvent.shiftKey) {
      return;
    }
    if ( aEvent.keyCode == 37 // left arrow
      || aEvent.keyCode == 38 // up arrow
      || aEvent.keyCode == 33 // page up
    ) {
      aEvent.preventDefault();
      this.back();
    }
    if ( aEvent.keyCode == 39 // right arrow
      || aEvent.keyCode == 40 // down arrow
      || aEvent.keyCode == 34 // page down
    ) {
      aEvent.preventDefault();
      this.forward();
    }
    if (aEvent.keyCode == 35) { // end
      aEvent.preventDefault();
      this.goEnd();
    }
    if (aEvent.keyCode == 36) { // home
      aEvent.preventDefault();
      this.goStart();
    }
    if (aEvent.keyCode == 32) { // space
      aEvent.preventDefault();
      this.toggleContent();
    }
    if (aEvent.keyCode == 70) { // f
      aEvent.preventDefault();
      this.goFullscreen();
    }
  }

  /* Touch Events */

  Dz.setupTouchEvents = function() {
    var orgX, newX;
    var tracking = false;

    var db = document.body;
    db.addEventListener("touchstart", start.bind(this), false);
    db.addEventListener("touchmove", move.bind(this), false);

    function start(aEvent) {
      aEvent.preventDefault();
      tracking = true;
      orgX = aEvent.changedTouches[0].pageX;
    }

    function move(aEvent) {
      if (!tracking) return;
      newX = aEvent.changedTouches[0].pageX;
      if (orgX - newX > 100) {
        tracking = false;
        this.forward();
      } else {
        if (orgX - newX < -100) {
          tracking = false;
          this.back();
        }
      }
    }
  }

  /* Adapt the size of the slides to the window */

  Dz.onresize = function() {
    var db = document.body;
    var sx = db.clientWidth / window.innerWidth;
    var sy = db.clientHeight / window.innerHeight;
    var transform = "scale(" + (1/Math.max(sx, sy)) + ")";

    db.style.MozTransform = transform;
    db.style.WebkitTransform = transform;
    db.style.OTransform = transform;
    db.style.msTransform = transform;
    db.style.transform = transform;
  }


  Dz.getDetails = function(aIdx) {
    var s = $("section:nth-of-type(" + aIdx + ")");
    var d = s.$("details");
    return d ? d.innerHTML : "";
  }

  Dz.onmessage = function(aEvent) {
    var argv = aEvent.data.split(" "), argc = argv.length;
    argv.forEach(function(e, i, a) { a[i] = decodeURIComponent(e) });
    var win = aEvent.source;
    if (argv[0] === "REGISTER" && argc === 1) {
      this.remoteWindows.push(win);
      this.postMsg(win, "REGISTERED", document.title, this.slides.length);
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
      return;
    }
    if (argv[0] === "BACK" && argc === 1)
      this.back();
    if (argv[0] === "FORWARD" && argc === 1)
      this.forward();
    if (argv[0] === "START" && argc === 1)
      this.goStart();
    if (argv[0] === "END" && argc === 1)
      this.goEnd();
    if (argv[0] === "TOGGLE_CONTENT" && argc === 1)
      this.toggleContent();
    if (argv[0] === "SET_CURSOR" && argc === 2)
      window.location.hash = "#" + argv[1];
    if (argv[0] === "GET_CURSOR" && argc === 1)
      this.postMsg(win, "CURSOR", this.idx + "." + this.step);
    if (argv[0] === "GET_NOTES" && argc === 1)
      this.postMsg(win, "NOTES", this.getDetails(this.idx));
  }

  Dz.toggleContent = function() {
    // If a Video is present in this new slide, play it.
    // If a Video is present in the previous slide, stop it.
    var s = $("section[aria-selected]");
    if (s) {
      var video = s.$("video");
      if (video) {
        if (video.ended || video.paused) {
          video.play();
        } else {
          video.pause();
        }
      }
    }
  }

  Dz.setCursor = function(aIdx, aStep) {
    // If the user change the slide number in the URL bar, jump
    // to this slide.
    aStep = (aStep != 0 && typeof aStep !== "undefined") ? "." + aStep : ".0";
    window.location.hash = "#" + aIdx + aStep;
  }

  Dz.onhashchange = function() {
    var cursor = window.location.hash.split("#"),
        newidx = 1,
        newstep = 0;
    if (cursor.length == 2) {
      newidx = ~~cursor[1].split(".")[0];
      newstep = ~~cursor[1].split(".")[1];
      if (newstep > Dz.slides[newidx - 1].$$('.incremental > *').length) {
        newstep = 0;
        newidx++;
      }
    }
    this.setProgress(newidx, newstep);
    if (newidx != this.idx) {
      this.setSlide(newidx);
    }
    if (newstep != this.step) {
      this.setIncremental(newstep);
    }
    for (var i = 0; i < this.remoteWindows.length; i++) {
      this.postMsg(this.remoteWindows[i], "CURSOR", this.idx + "." + this.step);
    }
  }

  Dz.back = function() {
    if (this.idx == 1 && this.step == 0) {
      return;
    }
    if (this.step == 0) {
      this.setCursor(this.idx - 1,
                     this.slides[this.idx - 2].$$('.incremental > *').length);
    } else {
      this.setCursor(this.idx, this.step - 1);
    }
  }

  Dz.forward = function() {
    if (this.idx >= this.slides.length &&
        this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
        return;
    }
    if (this.step >= this.slides[this.idx - 1].$$('.incremental > *').length) {
      this.setCursor(this.idx + 1, 0);
    } else {
      this.setCursor(this.idx, this.step + 1);
    }
  }

  Dz.goStart = function() {
    this.setCursor(1, 0);
  }

  Dz.goEnd = function() {
    var lastIdx = this.slides.length;
    var lastStep = this.slides[lastIdx - 1].$$('.incremental > *').length;
    this.setCursor(lastIdx, lastStep);
  }

  Dz.setSlide = function(aIdx) {
    this.idx = aIdx;
    var old = $("section[aria-selected]");
    var next = $("section:nth-of-type("+ this.idx +")");
    if (old) {
      old.removeAttribute("aria-selected");
      var video = old.$("video");
      if (video) {
        video.pause();
      }
    }
    if (next) {
      next.setAttribute("aria-selected", "true");
      var video = next.$("video");
      if (video && !!+this.params.autoplay) {
        video.play();
      }
    } else {
      // That should not happen
      this.idx = -1;
      // console.warn("Slide doesn't exist.");
    }
  }

  Dz.setIncremental = function(aStep) {
    this.step = aStep;
    var old = this.slides[this.idx - 1].$('.incremental > *[aria-selected]');
    if (old) {
      old.removeAttribute('aria-selected');
    }
    var incrementals = $$('.incremental');
    if (this.step <= 0) {
      $$.forEach(incrementals, function(aNode) {
        aNode.removeAttribute('active');
      });
      return;
    }
    var next = this.slides[this.idx - 1].$$('.incremental > *')[this.step - 1];
    if (next) {
      next.setAttribute('aria-selected', true);
      next.parentNode.setAttribute('active', true);
      var found = false;
      $$.forEach(incrementals, function(aNode) {
        if (aNode != next.parentNode)
          if (found)
            aNode.removeAttribute('active');
          else
            aNode.setAttribute('active', true);
        else
          found = true;
      });
    } else {
      setCursor(this.idx, 0);
    }
    return next;
  }

  Dz.goFullscreen = function() {
    var html = $('html'),
        requestFullscreen = html.requestFullscreen || html.requestFullScreen || html.mozRequestFullScreen || html.webkitRequestFullScreen;
    if (requestFullscreen) {
      requestFullscreen.apply(html);
    }
  }
  
  Dz.setProgress = function(aIdx, aStep) {
    var slide = $("section:nth-of-type("+ aIdx +")");
    if (!slide)
      return;
    var steps = slide.$$('.incremental > *').length + 1,
        slideSize = 100 / (this.slides.length - 1),
        stepSize = slideSize / steps;
    this.progressBar.style.width = ((aIdx - 1) * slideSize + aStep * stepSize) + '%';
  }
  
  Dz.postMsg = function(aWin, aMsg) { // [arg0, [arg1...]]
    aMsg = [aMsg];
    for (var i = 2; i < arguments.length; i++)
      aMsg.push(encodeURIComponent(arguments[i]));
    aWin.postMessage(aMsg.join(" "), "*");
  }
  
  function init() {
    Dz.init();
    window.onkeydown = Dz.onkeydown.bind(Dz);
    window.onresize = Dz.onresize.bind(Dz);
    window.onhashchange = Dz.onhashchange.bind(Dz);
    window.onmessage = Dz.onmessage.bind(Dz);
  }

  window.onload = init;
</script>


<script> // Helpers
  if (!Function.prototype.bind) {
    Function.prototype.bind = function (oThis) {

      // closest thing possible to the ECMAScript 5 internal IsCallable
      // function 
      if (typeof this !== "function")
      throw new TypeError(
        "Function.prototype.bind - what is trying to be fBound is not callable"
      );

      var aArgs = Array.prototype.slice.call(arguments, 1),
          fToBind = this,
          fNOP = function () {},
          fBound = function () {
            return fToBind.apply( this instanceof fNOP ? this : oThis || window,
                   aArgs.concat(Array.prototype.slice.call(arguments)));
          };

      fNOP.prototype = this.prototype;
      fBound.prototype = new fNOP();

      return fBound;
    };
  }

  var $ = (HTMLElement.prototype.$ = function(aQuery) {
    return this.querySelector(aQuery);
  }).bind(document);

  var $$ = (HTMLElement.prototype.$$ = function(aQuery) {
    return this.querySelectorAll(aQuery);
  }).bind(document);

  $$.forEach = function(nodeList, fun) {
    Array.prototype.forEach.call(nodeList, fun);
  }

</script>
<!-- vim: set fdm=marker: }}} -->
</body>
</html>
